<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v7.5.0 <https://qwtel.com/hydejack/>
-->




<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">


  
<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Home | yizhang82’s blog</title>
<meta property="og:title" content="Home" />
<meta name="author" content="Yi Zhang" />
<meta property="og:locale" content="en" />
<meta name="description" content="The official Hydejack blog. Version updates, example content and how-to guides on how to blog with Jekyll. Open index.html to edit this text." />
<meta property="og:description" content="The official Hydejack blog. Version updates, example content and how-to guides on how to blog with Jekyll. Open index.html to edit this text." />
<link rel="canonical" href="http://localhost:4000/page-3/" />
<meta property="og:url" content="http://localhost:4000/page-3/" />
<meta property="og:site_name" content="yizhang82’s blog" />
<link rel="prev" href="http://localhost:4000/page-2/">
<link rel="next" href="http://localhost:4000/page-4/">
<script type="application/ld+json">
{"name":null,"description":"The official Hydejack blog. Version updates, example content and how-to guides on how to blog with Jekyll. Open index.html to edit this text.","author":{"@type":"Person","name":"Yi Zhang"},"@type":"WebPage","url":"http://localhost:4000/page-3/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/icons/icon.png"},"name":"Yi Zhang"},"image":null,"headline":"Home","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

  
    <meta name="keywords" content="">
  


<meta name="mobile-web-app-capable" content="yes">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="yizhang82's blog">
<meta name="apple-mobile-web-app-status-bar-style" content="black">

<meta name="application-name" content="yizhang82's blog">
<meta name="msapplication-config" content="/assets/ieconfig.xml">


<meta name="theme-color" content="#4fb1ba">


<meta name="generator" content="Hydejack v7.5.0">

<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="yizhang82's blog" />



<link rel="alternate" href="http://localhost:4000/page-3/" hreflang="en">

<link rel="shortcut icon" href="/assets/icons/favicon.ico">
<link rel="apple-touch-icon" href="/assets/icons/icon.png">

<link rel="manifest" href="/assets/manifest.json">


  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">





<link id="_disqusJS" rel="dns-prefetch" href="https://yizhang82.disqus.com/embed.js">



<link id="_katexJS"  rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.js">
<link id="_katexCSS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css">

<script>
  function stdOnEnd(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function ieOnEnd(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}window.setRelStylesheet=function(n){function e(){this.rel="stylesheet"}var o=document.getElementById(n);o.addEventListener?o.addEventListener("load",e,!1):o.onload=e},window._loaded=!1,window.loadJSDeferred=function(n,e){function o(){window._loaded=!0;var o=document.createElement("script");o.src=n,e&&(("onload"in o?stdOnEnd:ieOnEnd)(o,e),o.onload||stdOnEnd(o,e));var t=document.scripts[0];t.parentNode.insertBefore(o,t)}window._loaded?o():window.addEventListener?window.addEventListener("load",o,!1):window.onload=o};
!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);
!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);

  window._noPushState = false;
  window._noDrawer = false;
</script>

<!--[if gt IE 8]><!---->


<script>
  WebFontConfig = {
    
    google: {
      families: ['Roboto+Slab:700','Noto+Sans:400,400i,700,700i']
    },
    

    custom: {
      families: ['icomoon'],
      urls: ['/assets/icomoon/style.css']
    }
  };
  (function(d) {
    var wf = d.createElement('script'), s = d.scripts[0];
    wf.src = "/assets/bower_components/webfontloader/webfontloader.js";
    s.parentNode.insertBefore(wf, s);
  }(document));
</script>
<!--<![endif]-->

<noscript>
  
  

  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700%7CNoto+Sans:400,400i,700,700i">
    <style>
      html { font-family: Noto Sans, Helvetica, Arial, sans-serif }
      h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: Roboto Slab, Helvetica, Arial, sans-serif }
    </style>
  

  <link rel="stylesheet" href="/assets/icomoon/style.css">
</noscript>

<!--[if gt IE 8]><!---->



  <link rel="stylesheet" href="/assets/css/hydejack-7.5.0.css">



<style id="_pageStyle">

.content a:not(.btn){color:#4fb1ba;border-color:rgba(79,177,186,0.2)}.content a:not(.btn):hover{border-color:#4fb1ba}:focus{outline-color:#4fb1ba}.btn-primary{color:#fff;background-color:#4fb1ba;border-color:#4fb1ba}.btn-primary:focus,.btn-primary.focus{box-shadow:0 0 0 3px rgba(79,177,186,0.5)}.btn-primary:hover,.btn-primary.hover{color:#fff;background-color:#409ba3;border-color:#409ba3}.btn-primary:disabled,.btn-primary.disabled{color:#fff;background-color:#4fb1ba;border-color:#4fb1ba}.btn-primary:active,.btn-primary.active{color:#fff;background-color:#409ba3;border-color:#409ba3}::selection{color:#fff;background:#4fb1ba}::-moz-selection{color:#fff;background:#4fb1ba}

</style>

<!--<![endif]-->




</head>

<body>
  <div class="navbar fixed-top">
  <div class="content">
    <div class="nav-btn-bar">
      <span class="sr-only">Jump to:</span>
      <a id="_menu" class="nav-btn no-hover" href="#_navigation">
        <span class="sr-only">Navigation</span>
        <span class="icon-menu"></span>
      </a>
    </div>
  </div>
</div>


<hy-push-state>
  <main
    id="_main"
    class="content fade-in layout-blog"
    role="main"
    data-color="#4fb1ba"
    data-theme-color=""
    
      data-image="/assets/img/sidebar-bg.jpg"
      data-overlay
    
    >
    

  
  


<article id="post-value-type-boxing" class="page post mb6" role="article">
  <header>
    <h1 class="post-title">
      <a href="/value-type-boxing" class="flip-title">
        C# value type boxing under the hood
      </a>
    </h1>

    <p class="post-date heading">
      
      <time datetime="2017-03-19T00:00:00-07:00">19 Mar 2017</time>
      
      
      
      
      









in <span>C#</span> / <span>Boxing</span> / <span>Typesystem</span> / <a href="/category/dotnet/" class="flip-title">.NET</a>

      











    </p>

    



  
    <p class="message" >
      Talks about different situation when value type boxing happens and how to avoid it

    </p>
  


  </header>

  
    <p>I recently had some really interesting discussion with a .NET typesystem expert in the team, and during the conversation he had pointed out an interesting aspect of .NET value type boxing when using constraints. Intrigued by that discussion, I decided to take a further look.</p>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/value-type-boxing">C# value type boxing under the hood</a>

      </p>
    </footer>
  
</article>


  


<article id="post-dogfooding-ns-2" class="page post mb6" role="article">
  <header>
    <h1 class="post-title">
      <a href="/dogfooding-netstandard-2" class="flip-title">
        Dogfooding .NET Standard 2.0 latest build
      </a>
    </h1>

    <p class="post-date heading">
      
      <time datetime="2017-03-18T00:00:00-07:00">18 Mar 2017</time>
      
      
      
      
      









in <span>C#</span> / <a href="/category/interop/" class="flip-title">interop</a> / <span>Netcore</span> / <a href="/category/dotnet/" class="flip-title">.NET</a>

      











    </p>

    



  
    <p class="message" >
      Walk through steps to dogfood netstandard 2.0 with a sample using ICustomMarshaler

    </p>
  


  </header>

  
    <p>If you’ve been following .NET Core development you’ve probably already heard about .NET Standard 2.0. We are bringing back a lot of APIs from desktop to .NET Core to make migrating existing apps easier. If you’d like to read more about what is netstandard, you can refer to this <a href="https://github.com/dotnet/standard/blob/master/docs/faq.md">faq</a>. In this post I’m going to show you how to dogfood (read: try out the bleeding edge new stuff) the latest .NET Core 2.0 which has the latest API changes in .NET Standard 2.0.</p>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/dogfooding-netstandard-2">Dogfooding .NET Standard 2.0 latest build</a>

      </p>
    </footer>
  
</article>


  


<article id="post-what-is-winmd" class="page post mb6" role="article">
  <header>
    <h1 class="post-title">
      <a href="/what-is-winrt" class="flip-title">
        Windows Runtime is not a Runtime
      </a>
    </h1>

    <p class="post-date heading">
      
      <time datetime="2017-03-15T00:00:00-07:00">15 Mar 2017</time>
      
      
      
      
      









in <span>Winrt</span> / <a href="/category/interop/" class="flip-title">interop</a> / <a href="/category/dotnet/" class="flip-title">.NET</a>

      











    </p>

    



  
    <p class="message" >
      Clarifies what is Windows Runtime and why it is not a Runtime

    </p>
  


  </header>

  
    <p>I’ve spent a non-trival part of my career adding Windows Runtime support to .NET framework and .NET native, and I often get people asking me what is Windows Runtime and there is a lot of confusion around it. The bad naming certainly doesn’t help in this case. I’m going to write a series blog post so that I can point people to. :)</p>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/what-is-winrt">Windows Runtime is not a Runtime</a>

      </p>
    </footer>
  
</article>


  


<article id="post-pinvoke-union" class="page post mb6" role="article">
  <header>
    <h1 class="post-title">
      <a href="/pinvoke-union" class="flip-title">
        P/invoke with unions in C#
      </a>
    </h1>

    <p class="post-date heading">
      
      <time datetime="2017-03-09T00:00:00-08:00">09 Mar 2017</time>
      
      
      
      
      









in <span>C#</span> / <a href="/category/interop/" class="flip-title">interop</a> / <a href="/category/dotnet/" class="flip-title">.NET</a>

      











    </p>

    



  
    <p class="message" >
      Talks about things to watch out for when using unions in C#

    </p>
  


  </header>

  
    <p>When interop with native code using C# p/invokes, some time you need to create unions in C#. They are represented by structs with <code class="highlighter-rouge">[StructLayout(LayoutKind.Explicit)]</code> attribute and the fields annotated with <code class="highlighter-rouge">[FieldOffset(0)]</code> specifying their offset. It looks pretty straight-forward, but in practice this can be very deceiving. In this article, I’ll talk about two important rules when using unions.</p>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/pinvoke-union">P/invoke with unions in C#</a>

      </p>
    </footer>
  
</article>


  


<article id="post-hosting-coreclr-in-your-application" class="page post mb6" role="article">
  <header>
    <h1 class="post-title">
      <a href="/hosting-coreclr" class="flip-title">
        Embedding CoreCLR in your C/C++ application
      </a>
    </h1>

    <p class="post-date heading">
      
      <time datetime="2017-01-27T00:00:00-08:00">27 Jan 2017</time>
      
      
      
      
      









in <span>Clr</span> / <a href="/category/interop/" class="flip-title">interop</a> / <span>Hosting</span> / <a href="/category/dotnet/" class="flip-title">.NET</a>

      











    </p>

    



  
    <p class="message" >
      Hosting CoreCLR in your C/C++ application

    </p>
  


  </header>

  
    <p>CoreCLR is the runtime that runs your .NET Core application, just like the ‘classic’ .NET in your machine, except it’s much smaller and requires no installation. This makes it ideal for embedding .NET code as part of your application without additional dependency, and you completely are in control of the version of CoreCLR that you are running.</p>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/hosting-coreclr">Embedding CoreCLR in your C/C++ application</a>

      </p>
    </footer>
  
</article>



<h2 class="sr-only">Pagination</h2>
<nav class="pagination heading clearfix" role="navigation">
  <ul>
    <li class="pagination-item older" >
      
      
      
  <a
    class=" "
    href="/page-4/"
    rel="next"
    
  >
    Older
  </a>


    </li>
    <li class="pagination-item newer" >
      
      
      
  <a
    class=" "
    href="/page-2/"
    rel="prev"
    
  >
    Newer
  </a>


    </li>
  </ul>
</nav>




    


    <footer role="contentinfo">
  <hr/>
  
    <p><small class="copyright">© 2017. All rights reserved.
</small></p>
  
  
  <p><small>Powered by <a class="external" href="https://qwtel.com/hydejack/">Hydejack</a> v<span id="_version">7.5.0</span></small></p>
  <hr class="sr-only"/>
</footer>

  </main>
  <hy-drawer>
  <header id="_sidebar" class="sidebar" role="banner">
    
    <div class="sidebar-bg sidebar-overlay" style="background-color:#4fb1ba;background-image:url(/assets/img/sidebar-bg.jpg)"></div>

    <div class="sidebar-sticky">
      <div class="sidebar-about">
        <h2 class="h1"><a href="/">yizhang82's blog</a></h2>
        
        
          <p class="">
            Languages, Runtime, Data structures, Databases, and everything in between

          </p>
        
      </div>

      <nav class="sidebar-nav heading" role="navigation">
        <span class="sr-only">Navigation:</span>
<ul>
  
  
  
  
    
      <li>
        <a
          id="_navigation"
          href="/blog/"
          class="sidebar-nav-item"
          
          >
          Blog archive
        </a>
      </li>
    
  
    
      <li>
        <a
          
          href="/category/dotnet/"
          class="sidebar-nav-item"
          
          >
          .NET
        </a>
      </li>
    
  
    
      <li>
        <a
          
          href="/category/interop/"
          class="sidebar-nav-item"
          
          >
          interop
        </a>
      </li>
    
  
    
      <li>
        <a
          
          href="/about/"
          class="sidebar-nav-item"
          
          >
          About me
        </a>
      </li>
    
  
</ul>

      </nav>

      

      <div class="sidebar-social">
        <span class="sr-only">Social:</span>
<ul>
  

  

  
    













<li>
  <a href="https://twitter.com/yizhang82" title="Twitter" class="no-mark-external">
    <span class="icon-twitter"></span>
    <span class="sr-only">Twitter</span>
  </a>
</li>

  
    













<li>
  <a href="https://github.com/yizhang82" title="GitHub" class="no-mark-external">
    <span class="icon-github"></span>
    <span class="sr-only">GitHub</span>
  </a>
</li>

  
    













<li>
  <a href="mailto:mail@yizhang82.me" title="Email" class="no-mark-external">
    <span class="icon-mail"></span>
    <span class="sr-only">Email</span>
  </a>
</li>

  
</ul>

      </div>
    </div>
  </header>
</hy-drawer>

</hy-push-state>


  

  <!--[if gt IE 9]><!---->
  
  <script>loadJSDeferred('/assets/js/hydejack-7.5.0.js');</script>
  
  <!--<![endif]-->



  
<hr class="sr-only"/>
<h2 class="sr-only">Templates (for web app):</h2>

<template id="_animation-template">
  <div class="animation-main fixed-top">
    <div class="content">
      <div class="page"></div>
    </div>
  </div>
</template>

<template id="_loading-template">
  <div class="loading">
    <span class="sr-only">Loading…</span>
    <span class="icon-cog"></span>
  </div>
</template>

<template id="_error-template">
  <div class="page">
    <h1 class="page-title">Error</h1>
    
    
    <p class="lead">
      Sorry, an error occurred while loading <a class="this-link" href=""></a>.

    </p>
  </div>
</template>

<template id="_back-template">
  <a id="_back" class="back nav-btn no-hover">
    <span class="sr-only">Back</span>
    <span class="icon-arrow-left2"></span>
  </a>
</template>

<template id="_permalink-template">
  <a href="#" class="permalink">
    <span class="sr-only">Permalink</span>
    <span class="icon-link"></span>
  </a>
</template>



</body>
</html>
